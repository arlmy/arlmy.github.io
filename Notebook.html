<!DOCTYPE html>
<!-- saved from url=(0069)file:///C:/Users/arlmy/Documents/GitHub/arlmy.github.io/Notebook.html -->
<html lang="zh-CN">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>notebook</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DBVYTK3SDB"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-DBVYTK3SDB');
    </script>
    
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
        }
        .container {
            display: flex;
            gap: 20px;
        }
        /* 添加媒体查询，当屏幕宽度小于768px时改变布局 */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
        }
        .notebook, .yellow-pages {
            flex: 1;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        h2 {
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            color: #3498db;
        }
        .note {
            margin-bottom: 15px;
            padding: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #333;
            font-size: 1rem;
        }
        .note span {
            user-select: text;  /* 允许选择笔记文本 */
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
        }
        .delete-btn {
            user-select: none;  /* 禁止选择按钮文本 */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            background: #e0e0e0;
            color: #616161;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .link-item {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1rem;  /* 统一字号 */
        }
        a {
            color: #2980b9;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        textarea {
            width: 100%;
            height: 100px;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Notebook</h1>
    </header>

    <div class="container">
        <section class="notebook">
            <h2>笔记本</h2>
            <textarea placeholder="添加"></textarea>
            <button class="add-note-btn">添加笔记</button>
            <div class="notes-container"><div class="note">
                    <span>m2o TV，Persiana Sonnati，RTL102.5</span>
                    <button class="delete-btn">删除</button>
                </div></div>
        </section>

        <section class="yellow-pages">
            <h2>常用链接</h2>
            <div class="add-link">
                <input type="text" placeholder="链接标题" class="link-title">
                <input type="url" placeholder="链接地址" class="link-url">
                <select class="link-category-select">
                    <option value="开发工具">开发工具</option>
                    <option value="学习资源">学习资源</option>
                    <option value="实用工具">实用工具</option>
                    <option value="难忘视频">难忘视频</option>
                    <option value="网站备忘">网站备忘</option>
                </select>
                <button class="add-link-btn">添加</button>
            </div>
            <div class="link-category">
                <h3>开发工具</h3>
                <div class="link-item">
                    <a href="https://github.com/" target="_blank">GitHub</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://stackoverflow.com/" target="_blank">Stack Overflow</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://developer.mozilla.org/" target="_blank">MDN Web Docs</a>
                    <button class="delete-btn">删除</button>
                </div>
            </div>
            <div class="link-category">
                <h3>学习资源</h3>
                <div class="link-item">
                    <a href="https://leetcode.com/" target="_blank">LeetCode</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://www.coursera.org/" target="_blank">Coursera</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://www.udemy.com/" target="_blank">Udemy</a>
                    <button class="delete-btn">删除</button>
                </div>
            </div>
            <div class="link-category">
                <h3>实用工具</h3>
                <div class="link-item">
                    <a href="https://chat.openai.com/" target="_blank">ChatGPT</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://www.notion.so/" target="_blank">Notion</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://www.figma.com/" target="_blank">Figma</a>
                    <button class="delete-btn">删除</button>
                </div>
            </div>
            <div class="link-category">
                <h3>难忘视频</h3>
                <div class="link-item">
                    <a href="https://space.bilibili.com/3546817543277246" target="_blank">法国姐妹</a>
                    <button class="delete-btn">删除</button>
                </div>
            </div>
            <div class="link-category">
                <h3>网站备忘</h3>
                <div class="link-item">
                    <a href="https://app.radiooooo.com/" target="_blank">按年代、国家听歌</a>
                    <button class="delete-btn">删除</button>
                </div>
                <div class="link-item">
                    <a href="https://rushiwowen.co/chat" target="_blank">经书对话 - 如是我问</a>
                    <button class="delete-btn">删除</button>
                </div>
            <div class="link-item">
                        <a href="https://www.spreadthesign.com/zh.hans.cn/search/" target="_blank">手语词典</a>
                        <button class="delete-btn">删除</button>
                    </div><div class="link-item">
                        <a href="https://calculatingempires.net/" target="_blank">技术史图示</a>
                        <button class="delete-btn">删除</button>
                    </div></div>
        </section>
    </div>
    <script>
        document.querySelector('.add-link-btn').addEventListener('click', function() {
            const title = document.querySelector('.link-title').value;
            let url = document.querySelector('.link-url').value;
            const category = document.querySelector('.link-category-select').value;
            
            if(title && url) {
                // 自动添加https://前缀（如果缺少协议）
                if(!url.match(/^https?:\/\//)) {
                    url = 'https://' + url;
                }
                // 确保最终是https://
                url = url.replace(/^http:\/\//, 'https://');
                
                const categories = document.querySelectorAll('.link-category h3');
                let targetCategory = null;
                categories.forEach(cat => {
                    if(cat.textContent === category) {
                        targetCategory = cat.parentNode;
                    }
                });
                
                if(targetCategory) {
                    const newLink = document.createElement('div');
                    newLink.className = 'link-item';
                    newLink.innerHTML = `
                        <a href="${url}" target="_blank">${title}</a>
                        <button class="delete-btn">删除</button>
                    `;
                    targetCategory.appendChild(newLink);
                    
                    // 为新增的链接添加删除事件
                    newLink.querySelector('.delete-btn').addEventListener('click', function() {
                        newLink.remove();
                    });
                    
                    document.querySelector('.link-title').value = '';
                    document.querySelector('.link-url').value = '';
                }
            }
        });

        // 为现有链接添加删除功能
        document.querySelectorAll('.link-item').forEach(item => {
            if(!item.querySelector('.delete-btn')) {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-btn';
                deleteBtn.textContent = '删除';
                deleteBtn.addEventListener('click', function() {
                    item.remove();
                });
                item.appendChild(deleteBtn);
            }
        });
    </script>
    <script>
     // 添加笔记功能
        document.querySelector('.add-note-btn').addEventListener('click', function() {
            const noteText = document.querySelector('.notebook textarea').value;
            if(noteText) {
                const notesContainer = document.querySelector('.notes-container');
                const newNote = document.createElement('div');
                newNote.className = 'note';
                newNote.innerHTML = `
                    <span>${noteText}</span>
                    <button class="delete-btn">删除</button>
                `;
                notesContainer.appendChild(newNote);
                
                // 添加删除事件
                newNote.querySelector('.delete-btn').addEventListener('click', function() {
                    newNote.remove();
                });
                
                document.querySelector('.notebook textarea').value = '';
            }
        });
    </script>

    <!-- 修改保存按钮的容器，添加class而不是内联样式 -->
    <div class="save-btn-container">
        <button id="save-local-btn" class="save-btn">保存到本地</button>
        <button id="show-code-btn" class="save-btn">显示代码</button>
    </div>

    <div id="code-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <pre id="code-display"></pre>
        </div>
    </div>

    <style>
        /* 在style标签中添加样式 */
        .save-btn-container {
            text-align: center;
            margin-top: 20px;
        }
        .save-btn {
            padding: 10px 20px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>

    <script>
        // 修改保存功能，不再移除按钮容器
        document.getElementById('save-local-btn').addEventListener('click', function() {
            document.querySelector('.save-btn').addEventListener('click', function() {
                // 克隆整个文档
                const docClone = document.cloneNode(true);
                
                // 移除所有theme-adaptive相关的样式
                const themeStyles = docClone.querySelectorAll('style[class*="theme-adaptive"], style:contains("theme-adaptive")');
                themeStyles.forEach(style => style.remove());
                
                // 移除Google Analytics脚本
                const gaScripts = docClone.querySelectorAll('script[src*="googletagmanager"]');
                gaScripts.forEach(script => script.remove());
                
                // 创建新的HTML字符串
                const html = `<!DOCTYPE html>
            <html>
            <head>
                <meta charset="UTF-8">
                <title>Notebook Backup</title>
                <style>
                    ${docClone.querySelector('style').innerText}
                </style>
            </head>
            <body>
                ${docClone.querySelector('.container').outerHTML}
            </body>
            </html>`;
                
                // 创建下载链接
                const blob = new Blob([html], {type: 'text/html'});
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'notebook_backup.html';
                a.click();
                URL.revokeObjectURL(url);
            });
            const htmlContent = `<!DOCTYPE html>
            <html lang="zh-CN">
            ${document.head.outerHTML}
            ${document.body.outerHTML}
            </html>`;
            
            // 创建Blob对象
            const blob = new Blob([htmlContent], {type: 'text/html'});
            const url = URL.createObjectURL(blob);
            
            // 创建下载链接
            const a = document.createElement('a');
            a.href = url;
            a.download = 'Notebook.html';
            document.body.appendChild(a);
            a.click();
            
            // 清理
            setTimeout(() => {
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }, 100);
        });

             // 将显示代码的功能移到script标签内部
        document.getElementById('show-code-btn').addEventListener('click', function() {
            const header = document.querySelector('header').outerHTML;
            const container = document.querySelector('.container').outerHTML;
            const code = `Header代码:\n${header}\n\nContainer代码:\n${container}`;
            
            document.getElementById('code-display').textContent = code;
            document.getElementById('code-modal').style.display = 'block';
        });

        document.querySelector('.close').addEventListener('click', function() {
            document.getElementById('code-modal').style.display = 'none';
        });

        window.addEventListener('click', function(event) {
            if (event.target == document.getElementById('code-modal')) {
                document.getElementById('code-modal').style.display = 'none';
            }
        });
    </script>
</body></html>